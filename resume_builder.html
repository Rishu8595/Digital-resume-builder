<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Resume Builder</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            min-height: calc(100vh - 40px);
        }

        .form-section, .preview-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 30px;
            overflow-y: auto;
        }

        .form-section {
            border-left: 5px solid #667eea;
        }

        .preview-section {
            border-left: 5px solid #764ba2;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
            text-align: center;
            font-size: 2.5rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        h2 {
            color: #555;
            margin-bottom: 20px;
            font-size: 1.5rem;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #555;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #28a745, #20c997);
        }

        .btn-secondary:hover {
            box-shadow: 0 10px 20px rgba(40, 167, 69, 0.3);
        }

        .experience-item, .education-item {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #667eea;
        }

        .remove-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            margin-top: 10px;
        }

        .remove-btn:hover {
            background: #c82333;
        }

        .resume-preview {
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-radius: 10px;
            padding: 40px;
            margin-bottom: 20px;
            min-height: 842px; /* A4 height */
            font-size: 14px;
            line-height: 1.6;
        }

        .resume-header {
            border-bottom: 3px solid #667eea;
            padding-bottom: 20px;
            margin-bottom: 30px;
            text-align: center;
        }

        .resume-name {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .resume-title {
            font-size: 1.2rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            color: #666;
        }

        .resume-section {
            margin-bottom: 30px;
        }

        .resume-section h3 {
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 2px solid #eee;
            padding-bottom: 5px;
        }

        .job-item, .edu-item {
            margin-bottom: 20px;
        }

        .job-title, .degree-title {
            font-weight: bold;
            color: #333;
            font-size: 1.1rem;
        }

        .company-name, .school-name {
            color: #667eea;
            font-weight: 600;
        }

        .job-date, .edu-date {
            color: #666;
            font-style: italic;
            margin-bottom: 8px;
        }

        .job-description, .edu-description {
            color: #555;
            margin-top: 8px;
        }

        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .skill-tag {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }

        .error {
            border-color: #dc3545 !important;
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1) !important;
        }

        .error-message {
            color: #dc3545;
            font-size: 12px;
            margin-top: 5px;
        }

        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
                gap: 20px;
            }
            
            .form-section, .preview-section {
                padding: 20px;
            }
            
            .resume-preview {
                padding: 20px;
            }
            
            .contact-info {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-section">
            <h1>Resume Builder</h1>
            
            <form id="resumeForm">
                <!-- Personal Information -->
                <div class="form-group">
                    <h2>Personal Information</h2>
                    
                    <label for="fullName">Full Name *</label>
                    <input type="text" id="fullName" name="fullName" required>
                    <div class="error-message" id="fullNameError"></div>
                    
                    <label for="jobTitle">Job Title *</label>
                    <input type="text" id="jobTitle" name="jobTitle" required>
                    <div class="error-message" id="jobTitleError"></div>
                    
                    <label for="email">Email *</label>
                    <input type="email" id="email" name="email" required>
                    <div class="error-message" id="emailError"></div>
                    
                    <label for="phone">Phone Number *</label>
                    <input type="tel" id="phone" name="phone" required>
                    <div class="error-message" id="phoneError"></div>
                    
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address">
                    
                    <label for="summary">Professional Summary</label>
                    <textarea id="summary" name="summary" placeholder="Brief overview of your professional background and career objectives"></textarea>
                </div>

                <!-- Education -->
                <div class="form-group">
                    <h2>Education</h2>
                    <div id="educationList"></div>
                    <button type="button" class="btn btn-secondary" onclick="addEducation()">Add Education</button>
                </div>

                <!-- Experience -->
                <div class="form-group">
                    <h2>Work Experience</h2>
                    <div id="experienceList"></div>
                    <button type="button" class="btn btn-secondary" onclick="addExperience()">Add Experience</button>
                </div>

                <!-- Skills -->
                <div class="form-group">
                    <h2>Skills</h2>
                    <label for="skills">Skills (comma-separated)</label>
                    <textarea id="skills" name="skills" placeholder="JavaScript, Python, Project Management, etc."></textarea>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button type="button" class="btn" onclick="generatePDF()">Download PDF</button>
                    <button type="button" class="btn btn-secondary" onclick="clearForm()">Clear Form</button>
                </div>
            </form>
        </div>

        <div class="preview-section">
            <h2>Live Preview</h2>
            <div id="resumePreview" class="resume-preview">
                <div class="resume-header">
                    <div class="resume-name" id="previewName">Your Name</div>
                    <div class="resume-title" id="previewTitle">Your Job Title</div>
                    <div class="contact-info">
                        <span id="previewEmail">email@example.com</span>
                        <span id="previewPhone">+1-234-567-8900</span>
                        <span id="previewAddress">Your Address</span>
                    </div>
                </div>

                <div class="resume-section" id="summarySection" style="display: none;">
                    <h3>Professional Summary</h3>
                    <p id="previewSummary"></p>
                </div>

                <div class="resume-section" id="experienceSection" style="display: none;">
                    <h3>Work Experience</h3>
                    <div id="previewExperience"></div>
                </div>

                <div class="resume-section" id="educationSection" style="display: none;">
                    <h3>Education</h3>
                    <div id="previewEducation"></div>
                </div>

                <div class="resume-section" id="skillsSection" style="display: none;">
                    <h3>Skills</h3>
                    <div id="previewSkills" class="skills-list"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let experienceCount = 0;
        let educationCount = 0;

        // Add initial education and experience
        document.addEventListener('DOMContentLoaded', function() {
            addEducation();
            addExperience();
            updatePreview();
        });

        // Real-time preview update
        document.getElementById('resumeForm').addEventListener('input', updatePreview);

        function addExperience() {
            experienceCount++;
            const experienceList = document.getElementById('experienceList');
            const experienceItem = document.createElement('div');
            experienceItem.className = 'experience-item';
            experienceItem.innerHTML = `
                <label>Job Title *</label>
                <input type="text" name="expTitle_${experienceCount}" required>
                
                <label>Company Name *</label>
                <input type="text" name="expCompany_${experienceCount}" required>
                
                <label>Start Date *</label>
                <input type="month" name="expStartDate_${experienceCount}" required>
                
                <label>End Date (Leave empty if current)</label>
                <input type="month" name="expEndDate_${experienceCount}">
                
                <label>Job Description</label>
                <textarea name="expDescription_${experienceCount}" placeholder="Describe your responsibilities and achievements"></textarea>
                
                <button type="button" class="remove-btn" onclick="removeExperience(this)">Remove</button>
            `;
            experienceList.appendChild(experienceItem);
        }

        function addEducation() {
            educationCount++;
            const educationList = document.getElementById('educationList');
            const educationItem = document.createElement('div');
            educationItem.className = 'education-item';
            educationItem.innerHTML = `
                <label>Degree *</label>
                <input type="text" name="eduDegree_${educationCount}" required>
                
                <label>School/University *</label>
                <input type="text" name="eduSchool_${educationCount}" required>
                
                <label>Graduation Year *</label>
                <input type="number" name="eduYear_${educationCount}" min="1950" max="2050" required>
                
                <label>Additional Details</label>
                <textarea name="eduDescription_${educationCount}" placeholder="GPA, honors, relevant coursework, etc."></textarea>
                
                <button type="button" class="remove-btn" onclick="removeEducation(this)">Remove</button>
            `;
            educationList.appendChild(educationItem);
        }

        function removeExperience(button) {
            button.parentElement.remove();
            updatePreview();
        }

        function removeEducation(button) {
            button.parentElement.remove();
            updatePreview();
        }

        function validateForm() {
            let isValid = true;
            const requiredFields = ['fullName', 'jobTitle', 'email', 'phone'];
            
            requiredFields.forEach(field => {
                const input = document.getElementById(field);
                const errorDiv = document.getElementById(field + 'Error');
                
                if (!input.value.trim()) {
                    input.classList.add('error');
                    errorDiv.textContent = 'This field is required';
                    isValid = false;
                } else {
                    input.classList.remove('error');
                    errorDiv.textContent = '';
                }
            });

            // Email validation
            const email = document.getElementById('email');
            const emailError = document.getElementById('emailError');
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            if (email.value && !emailRegex.test(email.value)) {
                email.classList.add('error');
                emailError.textContent = 'Please enter a valid email address';
                isValid = false;
            }

            // Phone validation
            const phone = document.getElementById('phone');
            const phoneError = document.getElementById('phoneError');
            const phoneRegex = /^[\+]?[\d\s\-\(\)]+$/;
            
            if (phone.value && !phoneRegex.test(phone.value)) {
                phone.classList.add('error');
                phoneError.textContent = 'Please enter a valid phone number';
                isValid = false;
            }

            return isValid;
        }

        function updatePreview() {
            // Personal Information
            document.getElementById('previewName').textContent = 
                document.getElementById('fullName').value || 'Your Name';
            document.getElementById('previewTitle').textContent = 
                document.getElementById('jobTitle').value || 'Your Job Title';
            document.getElementById('previewEmail').textContent = 
                document.getElementById('email').value || 'email@example.com';
            document.getElementById('previewPhone').textContent = 
                document.getElementById('phone').value || '+1-234-567-8900';
            document.getElementById('previewAddress').textContent = 
                document.getElementById('address').value || 'Your Address';

            // Professional Summary
            const summary = document.getElementById('summary').value;
            const summarySection = document.getElementById('summarySection');
            if (summary.trim()) {
                document.getElementById('previewSummary').textContent = summary;
                summarySection.style.display = 'block';
            } else {
                summarySection.style.display = 'none';
            }

            // Experience
            updateExperiencePreview();
            
            // Education
            updateEducationPreview();
            
            // Skills
            updateSkillsPreview();
        }

        function updateExperiencePreview() {
            const experiencePreview = document.getElementById('previewExperience');
            const experienceSection = document.getElementById('experienceSection');
            experiencePreview.innerHTML = '';
            
            const experiences = document.querySelectorAll('.experience-item');
            let hasContent = false;
            
            experiences.forEach((exp, index) => {
                const title = exp.querySelector(`input[name*="expTitle"]`).value;
                const company = exp.querySelector(`input[name*="expCompany"]`).value;
                const startDate = exp.querySelector(`input[name*="expStartDate"]`).value;
                const endDate = exp.querySelector(`input[name*="expEndDate"]`).value;
                const description = exp.querySelector(`textarea[name*="expDescription"]`).value;
                
                if (title || company) {
                    hasContent = true;
                    const expDiv = document.createElement('div');
                    expDiv.className = 'job-item';
                    expDiv.innerHTML = `
                        <div class="job-title">${title || 'Job Title'}</div>
                        <div class="company-name">${company || 'Company Name'}</div>
                        <div class="job-date">${formatDate(startDate)} - ${endDate ? formatDate(endDate) : 'Present'}</div>
                        ${description ? `<div class="job-description">${description}</div>` : ''}
                    `;
                    experiencePreview.appendChild(expDiv);
                }
            });
            
            experienceSection.style.display = hasContent ? 'block' : 'none';
        }

        function updateEducationPreview() {
            const educationPreview = document.getElementById('previewEducation');
            const educationSection = document.getElementById('educationSection');
            educationPreview.innerHTML = '';
            
            const educations = document.querySelectorAll('.education-item');
            let hasContent = false;
            
            educations.forEach((edu, index) => {
                const degree = edu.querySelector(`input[name*="eduDegree"]`).value;
                const school = edu.querySelector(`input[name*="eduSchool"]`).value;
                const year = edu.querySelector(`input[name*="eduYear"]`).value;
                const description = edu.querySelector(`textarea[name*="eduDescription"]`).value;
                
                if (degree || school) {
                    hasContent = true;
                    const eduDiv = document.createElement('div');
                    eduDiv.className = 'edu-item';
                    eduDiv.innerHTML = `
                        <div class="degree-title">${degree || 'Degree'}</div>
                        <div class="school-name">${school || 'School/University'}</div>
                        <div class="edu-date">${year || 'Year'}</div>
                        ${description ? `<div class="edu-description">${description}</div>` : ''}
                    `;
                    educationPreview.appendChild(eduDiv);
                }
            });
            
            educationSection.style.display = hasContent ? 'block' : 'none';
        }

        function updateSkillsPreview() {
            const skillsInput = document.getElementById('skills').value;
            const skillsPreview = document.getElementById('previewSkills');
            const skillsSection = document.getElementById('skillsSection');
            
            if (skillsInput.trim()) {
                const skills = skillsInput.split(',').map(skill => skill.trim()).filter(skill => skill);
                skillsPreview.innerHTML = '';
                
                skills.forEach(skill => {
                    const skillSpan = document.createElement('span');
                    skillSpan.className = 'skill-tag';
                    skillSpan.textContent = skill;
                    skillsPreview.appendChild(skillSpan);
                });
                
                skillsSection.style.display = 'block';
            } else {
                skillsSection.style.display = 'none';
            }
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', { year: 'numeric', month: 'long' });
        }

        function generatePDF() {
            if (!validateForm()) {
                alert('Please fill in all required fields correctly.');
                return;
            }

            const { jsPDF } = window.jspdf;
            const pdf = new jsPDF();
            
            // Get resume data
            const name = document.getElementById('fullName').value;
            const title = document.getElementById('jobTitle').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const summary = document.getElementById('summary').value;
            
            // Set up PDF
            let yPosition = 20;
            
            // Header
            pdf.setFontSize(24);
            pdf.setFont('helvetica', 'bold');
            pdf.text(name, 20, yPosition);
            yPosition += 10;
            
            pdf.setFontSize(14);
            pdf.setFont('helvetica', 'normal');
            pdf.text(title, 20, yPosition);
            yPosition += 8;
            
            pdf.setFontSize(10);
            pdf.text(`${email} | ${phone} | ${address}`, 20, yPosition);
            yPosition += 15;
            
            // Summary
            if (summary.trim()) {
                pdf.setFontSize(14);
                pdf.setFont('helvetica', 'bold');
                pdf.text('PROFESSIONAL SUMMARY', 20, yPosition);
                yPosition += 8;
                
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'normal');
                const summaryLines = pdf.splitTextToSize(summary, 170);
                pdf.text(summaryLines, 20, yPosition);
                yPosition += summaryLines.length * 5 + 10;
            }
            
            // Experience
            const experiences = document.querySelectorAll('.experience-item');
            if (experiences.length > 0) {
                pdf.setFontSize(14);
                pdf.setFont('helvetica', 'bold');
                pdf.text('WORK EXPERIENCE', 20, yPosition);
                yPosition += 8;
                
                experiences.forEach(exp => {
                    const title = exp.querySelector(`input[name*="expTitle"]`).value;
                    const company = exp.querySelector(`input[name*="expCompany"]`).value;
                    const startDate = exp.querySelector(`input[name*="expStartDate"]`).value;
                    const endDate = exp.querySelector(`input[name*="expEndDate"]`).value;
                    const description = exp.querySelector(`textarea[name*="expDescription"]`).value;
                    
                    if (title || company) {
                        pdf.setFontSize(12);
                        pdf.setFont('helvetica', 'bold');
                        pdf.text(title, 20, yPosition);
                        yPosition += 6;
                        
                        pdf.setFontSize(10);
                        pdf.setFont('helvetica', 'normal');
                        pdf.text(`${company} | ${formatDate(startDate)} - ${endDate ? formatDate(endDate) : 'Present'}`, 20, yPosition);
                        yPosition += 6;
                        
                        if (description) {
                            const descLines = pdf.splitTextToSize(description, 170);
                            pdf.text(descLines, 20, yPosition);
                            yPosition += descLines.length * 5 + 8;
                        } else {
                            yPosition += 8;
                        }
                    }
                });
            }
            
            // Education
            const educations = document.querySelectorAll('.education-item');
            if (educations.length > 0) {
                pdf.setFontSize(14);
                pdf.setFont('helvetica', 'bold');
                pdf.text('EDUCATION', 20, yPosition);
                yPosition += 8;
                
                educations.forEach(edu => {
                    const degree = edu.querySelector(`input[name*="eduDegree"]`).value;
                    const school = edu.querySelector(`input[name*="eduSchool"]`).value;
                    const year = edu.querySelector(`input[name*="eduYear"]`).value;
                    const description = edu.querySelector(`textarea[name*="eduDescription"]`).value;
                    
                    if (degree || school) {
                        pdf.setFontSize(12);
                        pdf.setFont('helvetica', 'bold');
                        pdf.text(degree, 20, yPosition);
                        yPosition += 6;
                        
                        pdf.setFontSize(10);
                        pdf.setFont('helvetica', 'normal');
                        pdf.text(`${school} | ${year}`, 20, yPosition);
                        yPosition += 6;
                        
                        if (description) {
                            const descLines = pdf.splitTextToSize(description, 170);
                            pdf.text(descLines, 20, yPosition);
                            yPosition += descLines.length * 5 + 8;
                        } else {
                            yPosition += 8;
                        }
                    }
                });
            }
            
            // Skills
            const skills = document.getElementById('skills').value;
            if (skills.trim()) {
                pdf.setFontSize(14);
                pdf.setFont('helvetica', 'bold');
                pdf.text('SKILLS', 20, yPosition);
                yPosition += 8;
                
                pdf.setFontSize(10);
                pdf.setFont('helvetica', 'normal');
                pdf.text(skills, 20, yPosition);
            }
            
            // Save PDF
            pdf.save(`${name.replace(/\s+/g, '_')}_Resume.pdf`);
        }

        function clearForm() {
            if (confirm('Are you sure you want to clear all form data?')) {
                document.getElementById('resumeForm').reset();
                document.getElementById('experienceList').innerHTML = '';
                document.getElementById('educationList').innerHTML = '';
                experienceCount = 0;
                educationCount = 0;
                addEducation();
                addExperience();
                updatePreview();
            }
        }
    </script>
</body>
</html>